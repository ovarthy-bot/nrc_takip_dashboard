<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NRC Maintenance Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="top-nav">
            <div class="stats-container">
                <div class="stat-box open">OPEN: <span id="stat-open">0</span></div>
                <div class="stat-box closed">CLOSED: <span id="stat-closed">0</span></div>
                <div class="stat-box defer">DEFER: <span id="stat-defer">0</span></div>
            </div>
            <div class="import-date">Son GÃ¼ncelleme: <span id="last-import-time">-</span></div>
        </div>

        <div class="main-header">
            <div class="nav-tabs">
                <button class="tab-link active" onclick="App.switchPage('dashboard')">Dashboard</button>
                <button class="tab-link" onclick="App.switchPage('mapping')">UÃ§ak EÅŸleÅŸtirme</button>
            </div>
            <div class="actions">
                <label for="fileInput" class="btn btn-primary">ðŸ“‚ Excel YÃ¼kle</label>
                <input type="file" id="fileInput" accept=".xlsx,.xls" hidden>
            </div>
        </div>

        <div class="search-and-filter">
            <input type="text" id="search" placeholder="HÄ±zlÄ± Ara (WO, Task, Not...)" class="search-input">
            <div class="mobile-only-filters">
                <select id="mobile-ac-filter"><option value="">TÃ¼m UÃ§aklar</option></select>
                <select id="mobile-dept-filter">
                    <option value="">TÃ¼m BÃ¶lÃ¼mler</option>
                    <option value="Cabin">Cabin</option>
                    <option value="Ortak Cabin">Ortak Cabin</option>
                    <option value="AVI">AVI</option>
                    <option value="MEC">MEC</option>
                    <option value="STR">STR</option>
                    <option value="OTHER">OTHER</option>
                </select>
            </div>
        </div>

        <div id="progress-container" class="progress-container hidden">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <span id="progress-text">0%</span>
        </div>
    </header>

    <main id="app-content">
        <section id="page-dashboard">
            <div class="table-container">
                <table id="main-table">
                    <thead id="table-head"></thead>
                    <tbody id="table-body"></tbody>
                </table>
            </div>
            <div id="card-list" class="card-list"></div>
            <div class="pagination-container" id="pagination"></div>
        </section>

        <section id="page-mapping" class="hidden">
            <div class="mapping-card">
                <h3>UÃ§ak WO EÅŸleÅŸtirme</h3>
                <div class="mapping-inputs">
                    <input type="text" id="map-wo" placeholder="WO NumarasÄ±">
                    <input type="text" id="map-ac" placeholder="UÃ§ak Ä°smi">
                    <button class="btn btn-primary" onclick="App.saveMapping()">Kaydet</button>
                </div>
                <table class="mapping-table">
                    <thead><tr><th>WO</th><th>UÃ§ak</th><th>Ä°ÅŸlem</th></tr></thead>
                    <tbody id="mapping-body"></tbody>
                </table>
            </div>
        </section>
    </main>

    <script src="js/storage.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
